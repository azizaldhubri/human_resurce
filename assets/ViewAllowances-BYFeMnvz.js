import{r as a,A as u,j as t,N as L,F as s,a as d,S as z,H as p,l as C}from"./index-CxioH5k5.js";function $(){const[g,h]=a.useState(1),[f,y]=a.useState(3),[l,j]=a.useState([]),[m,S]=a.useState([]),[n,w]=a.useState("");a.useEffect(()=>{v()},[]);const v=async()=>{try{const e=await u.get("users");S(e.data.data.data)}catch(e){console.log(e)}},b=e=>{w(e.value)},D=m&&m.map(e=>({value:e.id,label:e.name})),N={container:e=>({...e,fontSize:"22px",minWidth:"200px",borderLeft:"5px solid green",borderRight:"5px solid green",borderTop:"2px solid gray",borderBottom:"2px solid gray",boxShadow:"none"}),menu:e=>({...e,fontSize:"19px",zIndex:9999}),menuList:e=>({...e,maxHeight:"200px",overflowY:"auto"})},[o,i]=a.useState(new Date),[c,x]=a.useState(new Date);function E(e){i(e)}function _(e){x(e)}const k=[{key:"amount",name:"المبلغ"},{key:"allowance_type",name:"الوصف"},{key:"effective_date",name:"التاريخ"}],A=async e=>{e.preventDefault();try{await u.get(`employee/${n}/Allowances?start_date=${o}&end_date=${c}`).then(r=>{j(r.data)})}catch(r){console.log(r)}},I=[{name:"العمليات المالية (الحوافز)",link:"#"}];return t.jsxs("div",{className:"container mt-3",children:[t.jsx(L,{nav:I}),t.jsxs("div",{className:"    w-100    fs-5 col-12 col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center gap-lg-4 align-items-center justify-content-center  flex-wrap",children:[t.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-6 col-sm-11  col-12   p-2 flex-wrap align-items-center justify-content-center  ",children:[t.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-6 col-sm-4 m-0   ",children:" اختر موظف "}),t.jsx(d,{lg:9,sm:8,xs:12,md:12,children:t.jsx(z,{options:D,value:n!=null?n.label:"اختر موظف ",name:"employeeId",onChange:b,placeholder:"اختر موظف ",styles:N,required:!0})})]}),t.jsxs(s.Group,{className:`d-flex  col-lg-5 col-md-6 col-sm-11  col-12  p-2\r
              flex-wrap align-items-center justify-content-center \r
                `,style:{zIndex:"1"},children:[t.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-6 col-sm-4 m-0  ",children:"  من تاريخ "}),t.jsx(d,{lg:9,sm:8,xs:12,md:12,children:t.jsx(p,{name:"startDate",value:o,date:o,onChange:e=>i(e.target.value),setSelectDate:E})})]}),t.jsxs(s.Group,{style:{zIndex:"0"},className:"d-flex  col-lg-5 col-md-6 col-sm-11  col-12  p-2 flex-wrap align-items-center justify-content-center  ",children:[t.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-6 col-sm-4 m-0  ",children:"  الى تاريخ "}),t.jsx(d,{lg:9,sm:8,xs:12,md:12,children:t.jsx(p,{name:"endDate",value:c,date:c,onChange:e=>x(e.target.value),setSelectDate:_})})]})]}),t.jsx("button",{className:"   px-4 py-2 rounded",onClick:A,children:"بحث"}),t.jsxs("div",{className:"mt-0   p-2 ",style:{},children:[t.jsx("h3",{children:"الحوافز"}),t.jsx(C,{limit:f,setLimit:y,page:g,header:k,data:l.allowances,setPage:h,loading:!1,edit:"users",total:0,search:"name",role:""}),t.jsxs("h3",{children:[" إجمالي الحوافز :",l.totalAllowances?l.totalAllowances:0]})]})]})}export{$ as default};
