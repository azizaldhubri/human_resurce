import{r as n,u as w,j as e,e as S,F as s,a as c,S as _,H as v,A as p,U as C,p as L,D}from"./index-CxioH5k5.js";function G(){const[x,h]=n.useState([]),{id:g}=w(),[d,f]=n.useState(""),[i,u]=n.useState(""),[l,m]=n.useState({department_name:"",responsible_manager:"",Status:"نشط",location:"",description:""});n.useEffect(()=>{async function a(){try{await p.get(`${C}`).then(t=>h(t.data.data.data))}catch(t){console.log(t)}}a()},[]),n.useEffect(()=>{async function a(){try{await p.get(`${L}/${g}`).then(t=>{const r=t.data.responsible_manager;m({department_name:t.data.department_name||"",responsible_manager:t.data.responsible_manager||"",responsible_manager:r?{value:r,label:r}:"",Status:t.data.Status||"",location:t.data.location||"",description:t.data.description||""}),u(t.data.creation_date)})}catch(t){console.log(t)}}a()},[]);function j(a){u(a)}function o(a){m({...l,[a.target.name]:a.target.value})}const b=x&&x.map(a=>({value:a.id,label:a.name})),y={container:a=>({...a,fontSize:"22px",minWidth:"200px",borderLeft:"7px solid green",borderRight:"7px solid green",borderTop:"2px solid gray",borderBottom:"2px solid gray",boxShadow:"none","&:hover":{borderLeft:"5px solid darkred",borderRight:"5px solid darkred"}}),menu:a=>({...a,fontSize:"19px",zIndex:9999}),menuList:a=>({...a,maxHeight:"200px",overflowY:"auto"})};async function N(a){a.preventDefault();const t=new FormData;t.append("department_name",l.department_name),t.append("responsible_manager",l.responsible_manager.label),t.append("description",l.description),t.append("location",l.location),t.append("creation_date",i),t.append("Status",l.Status);try{await p.post(`${D}/edit/${g}`,t),window.location.pathname="/dashboard/departments"}catch(r){f(r.response.data.message)}}return e.jsx("div",{className:"w-100  border  border-primary   col-12 col-lg-12 col-md-12 col-sm-12  ",style:{},children:e.jsxs("div",{className:"w-100 d-flex  col-12 col-lg-12 col-md-12 col-sm-12   flex-column  ",children:[e.jsx("div",{className:"d-flex    w-75   fs-3     text-center align-items-center justify-content-center gap-5 ",style:{height:"50px"},children:e.jsx(S,{to:"/dashboard/Departments",className:"link m-0  ",children:"رجوع"})}),e.jsxs("div",{className:"  mt-3  w-100    fs-5 col-12 col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center gap-lg-4 align-items-center justify-content-center  flex-wrap",children:[e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12   p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-3",children:" اسم القسم"}),e.jsx(c,{lg:9,sm:8,xs:12,md:12,children:e.jsx(s.Control,{className:"p-2",type:"text",name:"department_name",value:l.department_name,onChange:o})})]}),e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12  p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-3",children:"المدير المسؤول"}),e.jsxs(c,{lg:9,sm:8,xs:12,md:12,children:[e.jsx(_,{className:"w-100   ",name:"responsible_manager",value:l.responsible_manager,onChange:a=>m({...l,responsible_manager:a}),options:b,placeholder:"اختر مسؤول القسم ",styles:y,required:!0}),d.length>0&&l.responsible_manager===""&&e.jsx("p",{className:"text-danger m-0",style:{fontSize:"13px"},children:"Required"})]})]})]}),e.jsx("div",{className:"    w-100    fs-5 col-12 col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center gap-lg-4 align-items-center justify-content-center  flex-wrap",children:e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12   p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-8",children:" الوصف"}),e.jsx(c,{lg:9,sm:8,xs:12,md:12,children:e.jsx(s.Control,{as:"textarea","aria-label":"With textarea",name:"description",value:l.description,onChange:o})}),d.includes("The email has already been taken.")&&e.jsx("p",{className:"text-danger m-0",style:{fontSize:"13px"},children:"الايميل هذا مسجل من قبل"})]})}),e.jsxs("div",{className:"    w-100       fs-5 col-12 col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center gap-lg-4 align-items-center justify-content-center  flex-wrap",children:[e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12   p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-8  ",children:"الموقع"}),e.jsxs(c,{lg:9,sm:8,xs:12,md:12,children:[e.jsx(s.Control,{className:"p-2",type:"text",name:"location",value:l.location,onChange:o}),d.length>0&&l.location===""&&e.jsx("p",{className:"text-danger m-0",style:{fontSize:"13px"},children:" ادخل الرقم الوطني"})]})]}),e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12  p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-8",children:"تاريخ المنشئ"}),e.jsx(c,{lg:9,sm:8,xs:12,md:12,children:i&&e.jsx(v,{date:i,setSelectDate:j})})]})]}),e.jsx("div",{className:"    w-100    fs-5 col-12 col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center gap-lg-4 align-items-center justify-content-center  flex-wrap",children:e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12   p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-3",children:" الحالة "}),e.jsx(c,{lg:9,sm:8,xs:7,md:12,children:e.jsx("fieldset",{children:e.jsxs(s.Group,{className:"mt-3 d-flex gap-3",style:{textAlign:"right"},children:[e.jsx(s.Check,{type:"radio",name:"Status",value:"نشط",checked:l.Status==="نشط",onChange:o}),e.jsx(s.Label,{children:" نشط "}),e.jsx(s.Check,{type:"radio",name:"Status",value:"غير نشط",checked:l.Status==="غير نشط",onChange:o}),e.jsx(s.Label,{children:" غير نشط "})]})})})]})}),e.jsxs("div",{className:"w-100 border text-center gap-4",children:[e.jsx("button",{className:"btn btn-primary m-3",onClick:N,children:"حفظ"}),e.jsx("button",{className:"btn btn-primary",children:"إلغاء"})]})]})})}export{G as default};
