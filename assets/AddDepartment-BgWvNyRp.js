import{r as o,o as N,j as e,N as w,F as s,a as n,S,H as v,e as C,A as x,U as _,D}from"./index-CxioH5k5.js";import{c as k}from"./customStylesSelect-DhMH63Ix.js";function F(){const[d,g]=o.useState([]),[r,h]=o.useState(""),[l,i]=o.useState({department_name:"",responsible_manager:"",Status:"نشط",location:"",description:""});o.useEffect(()=>{async function a(){try{await x.get(`${_}`).then(t=>{g(t.data.data.data)})}catch(t){console.log(t)}}a()},[]);function c(a){i({...l,[a.target.name]:a.target.value})}const j=d&&d.map(a=>({value:a.id,label:a.name})),[m,u]=o.useState(new Date);N(m);function f(a){u(a)}async function y(a){a.preventDefault();const t=new FormData;t.append("department_name",l.department_name),t.append("responsible_manager",l.responsible_manager.label),t.append("description",l.description),t.append("location",l.location),t.append("creation_date",m),t.append("Status",l.Status);try{await x.post(`${D}/add`,t),window.location.pathname="/dashboard/departments"}catch(p){console.log(p.response.data.message),h(p.response.data.message)}}const b=[{name:" كل الاقسام",link:"/dashboard/departments"}];return e.jsx("div",{className:"w-100  border  border-primary   col-12 col-lg-12 col-md-12 col-sm-12  ",style:{},children:e.jsxs("div",{className:"w-100 d-flex  col-12 col-lg-12 col-md-12 col-sm-12   flex-column  ",children:[e.jsx(w,{nav:b}),e.jsxs("div",{className:"  mt-3  w-100    fs-5 col-12 col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center gap-lg-4 align-items-center justify-content-center  flex-wrap",children:[e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12   p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-3",children:" اسم القسم"}),e.jsx(n,{lg:9,sm:8,xs:12,md:12,children:e.jsx(s.Control,{className:"p-2",type:"text",name:"department_name",value:l.department_name,onChange:c})})]}),e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12  p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-3",children:"المدير المسؤول"}),e.jsxs(n,{lg:9,sm:8,xs:12,md:12,children:[e.jsx(S,{className:"w-100   ",name:"responsible_manager",onChange:a=>i({...l,responsible_manager:a}),options:j,placeholder:"اختر مسؤول القسم ",styles:k,required:!0}),r.length>0&&l.responsible_manager===""&&e.jsx("p",{className:"text-danger m-0",style:{fontSize:"13px"},children:"Required"})]})]})]}),e.jsx("div",{className:"    w-100    fs-5 col-12 col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center gap-lg-4 align-items-center justify-content-center  flex-wrap",children:e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12   p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-8",children:" الوصف"}),e.jsx(n,{lg:9,sm:8,xs:12,md:12,children:e.jsx(s.Control,{as:"textarea","aria-label":"With textarea",name:"description",value:l.description,onChange:c})}),r.includes("The email has already been taken.")&&e.jsx("p",{className:"text-danger m-0",style:{fontSize:"13px"},children:"الايميل هذا مسجل من قبل"})]})}),e.jsxs("div",{className:"    w-100       fs-5 col-12 col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center gap-lg-4 align-items-center justify-content-center  flex-wrap",children:[e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12   p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-8  ",children:"الموقع"}),e.jsxs(n,{lg:9,sm:8,xs:12,md:12,children:[e.jsx(s.Control,{className:"p-2",type:"text",name:"location",value:l.location,onChange:c}),r.length>0&&l.location===""&&e.jsx("p",{className:"text-danger m-0",style:{fontSize:"13px"},children:" ادخل الرقم الوطني"})]})]}),e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12  p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-8",children:"تاريخ المنشئ"}),e.jsx(n,{lg:9,sm:8,xs:12,md:12,children:e.jsx(v,{date:m,setSelectDate:f})})]})]}),e.jsx("div",{className:"    w-100    fs-5 col-12 col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center gap-lg-4 align-items-center justify-content-center  flex-wrap",children:e.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-5 col-sm-11  col-12   p-2 flex-wrap align-items-center justify-content-center",children:[e.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-4 col-sm-4 m-0 col-md-3",children:" الحالة "}),e.jsx(n,{lg:9,sm:8,xs:7,md:12,children:e.jsx("fieldset",{children:e.jsxs(s.Group,{className:"mt-3 d-flex gap-3",style:{textAlign:"right"},children:[e.jsx(s.Check,{type:"radio",name:"Status",value:"نشط",checked:l.Status==="نشط",onChange:c}),e.jsx(s.Label,{children:" نشط "}),e.jsx(s.Check,{type:"radio",name:"Status",value:"غير نشط",checked:l.Status==="غير نشط",onChange:c}),e.jsx(s.Label,{children:" غير نشط "})]})})})]})}),e.jsxs("div",{className:"w-100 border text-center gap-4",children:[e.jsx("button",{className:"btn btn-primary m-3",onClick:y,children:"حفظ"}),e.jsx("button",{className:"btn btn-primary",children:e.jsx(C,{to:"/dashboard",children:"إلغاء"})})]})]})})}export{F as default};
