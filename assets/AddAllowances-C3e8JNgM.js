import{r as t,A as f,j as l,N as b,F as s,a,S as A,H as C}from"./index-CxioH5k5.js";import{S as g}from"./sweetalert2.esm.all-CZCIYDgo.js";import{c as D}from"./customStylesSelect-DhMH63Ix.js";function L(){const[o,j]=t.useState([]),[c,r]=t.useState(null),[m,d]=t.useState(""),[i,p]=t.useState("");t.useEffect(()=>{y()},[]);const[n,u]=t.useState(new Date);function h(e){u(e)}const y=async()=>{try{const e=await f.get("users");j(e.data.data.data)}catch(e){console.log(e)}},w=async()=>{const e=new FormData;e.append("employee_id",c),e.append(" effective_date",n),e.append(" allowance_type",m),e.append(" amount",i);try{await f.post("allowances",e),g.fire({icon:"success",title:"تم بنجاح",text:"تم إضافة الحافز بنجاح",confirmButtonText:"حسناً"}),r(null),d(""),p("")}catch(x){console.log(x),g.fire({icon:"error",title:"خطأ",text:x.response?.data?.message||"حدث خطأ غير متوقع",confirmButtonText:"إغلاق"})}},N=o&&o.map(e=>({value:e.id,label:e.name})),v=e=>{r(e.value)},S=[{name:"إضافة حافز",link:"#"}];return l.jsxs("div",{className:" ",children:[l.jsx(b,{nav:S}),l.jsxs("div",{className:"    w-100    fs-5 col-12 col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center gap-lg-4 align-items-center justify-content-center  flex-wrap",children:[l.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-6 col-sm-11  col-12   p-2 flex-wrap align-items-center justify-content-center  ",children:[l.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-6 col-sm-4 m-0   ",children:" اختر موظف "}),l.jsx(a,{lg:9,sm:8,xs:12,md:12,children:l.jsx(A,{options:N,value:c!=null?c.label:"اختر موظف ",name:"employeeId",onChange:v,placeholder:"اختر موظف ",styles:D,required:!0})})]}),l.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-6 col-sm-11  col-12  p-2 flex-wrap align-items-center justify-content-center  ",children:[l.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-6 col-sm-4 m-0  ",children:" تاريخ الميلاد"}),l.jsx(a,{lg:9,sm:8,xs:12,md:12,children:l.jsx(C,{name:"allowanceDate",value:n,date:n,onChange:e=>u(e.target.value),setSelectDate:h})})]})]}),l.jsxs("div",{className:"    w-100    fs-5 col-12 col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center gap-lg-4 align-items-center justify-content-center  flex-wrap",children:[l.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-6 col-sm-11  col-12   p-2 flex-wrap align-items-center justify-content-center  ",children:[l.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-6 col-sm-4 m-0   ",children:" نوع الحافز"}),l.jsx(a,{lg:9,sm:8,xs:12,md:12,children:l.jsx(s.Control,{className:"w-100   ",type:"text",placeholder:"نوع الحافز",value:m,onChange:e=>d(e.target.value)})})]}),l.jsxs(s.Group,{className:"d-flex  col-lg-5 col-md-6 col-sm-11  col-12  p-2 flex-wrap align-items-center justify-content-center  ",children:[l.jsx(s.Label,{className:"  col-6 col-lg-3 col-md-6 col-sm-4 m-0  ",children:" المبلغ المضاف"}),l.jsx(a,{lg:9,sm:8,xs:12,md:12,children:l.jsx(s.Control,{className:"w-100   ",type:"number",placeholder:"المبلغ المضاف",value:i,onChange:e=>p(e.target.value)})})]})]}),l.jsx("div",{className:"w-100  d-flex align-items-center justify-content-center",children:l.jsx("button",{className:"mt-3 btn btn-primary ",onClick:w,children:"إضافة حافز"})})]})}export{L as default};
